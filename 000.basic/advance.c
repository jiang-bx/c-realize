#include <stdio.h>

void advance() {
    int num = 12;
    int num2 = 0b1100;
    int num8 = 014;
    int num16 = 0xc;

    printf("十进制 = %i\n", num2);
    printf("十进制 = %i\n", num8);
    printf("十进制 = %i\n", num16);
    
    // %o 表示八进制占位符
    printf("八进制 = %o\n", num);

    // %x 表示十六进制占位符
    printf("十六进制 = %x\n", num);

    // 没有二进制输出占位符
}

/**
 * @brief 进制转换
 * 
 */
void advaneChange() {
    // 十进制转 2 进制
    /**
     * 13 转为 2 进制
     * 13 / 2 = 6 余 1
     * 6 / 2 = 3 余 0
     * 3 / 2 = 1 余 1
     * 1 / 2 = 0 余 1
     * 二进制位: 1101
     */

    // 2 进制转 十进制
    /**
     * 1101 转为 10 进制
     * 1 * 2^0 = 1
     * 0 * 2^1 = 0
     * 1 * 2^2 = 4
     * 1 * 2^3 = 8
     * 1 + 0 + 4 + 8 = 13
     */

    // 二进制转八进制
    /**
     * 1101 转为 八进制
     * 001,101
     *   1, 3 = 013
     * 1111 转为 八进制
     * 001,111
     *   1, 7 = 017
     */

    // 二进制转为十六进制
    /**
     * 1101 转为 十六进制
     * 1101
     *   d = 0xd
     * 11111 转为 十六进制
     * 0001,1111
     *    1, f = 0x1f
     */
}

void sourceCodeHandle() {
    // 9 的二进制表示: 4B = 4 * 8bit = 32bit
    // 0000 0000 0000 0000 0000 0000 0000 1001(源码)
    // 0000 0000 0000 0000 0000 0000 0000 1001(反码)
    // 0000 0000 0000 0000 0000 0000 0000 1001(补码)

    // -9 的二进制表示: 4B = 4 * 8bit = 32bit
    // 1000 0000 0000 0000 0000 0000 0000 1001(源码)
    // 1111 1111 1111 1111 1111 1111 1111 0110(反码) 符号位不变, 其他位取反
    // 1111 1111 1111 1111 1111 1111 1111 0111(补码) 反码 +1, 超出丢掉

    // 1 - 1 = 1 + (-1)
    // 1: 0000 0001(源码/反码/补码)
    //-1: 1000 0001(源码) -> 1111 1110(反码) -> 1111 1111(补码)
    // 计算
    // 0000 0001
    //+1111 1111
    //-----------
    //10000 0000 -> 0000 0000(补码) -> 0000 0000(反码) -> 0000 0000(源码)
}

void bitOperation() {
    /**
     * &: 按位与
     * 9 & 5 = ?
     *  1001
     * &0101
     * ------
     *  0001 = 1
     */
    int a = 9 & 5;
    printf("a = %i\n", a);
    // |
    /**
     * 9 | 5 = ?
     *  1001
     * |0101
     * ------
     *  1101 = 13
     */
    int b = 9 | 5;
    printf("b = %i\n", b);
    // ^
    /**
     * 9 ^ 5 = ?
     *  1001
     * ^0101
     * ------
     *  1100 = 12
     */
    int c = 9 ^ 5;
    printf("c = %i\n", c);
    // ~
    /**
     * ~9 = ?
     *  0000 0000 0000 0000 0000 0000 0000 1001
     * ~(取反) -> 结果为补码, 补码转反码, -1, 取反, 符号位不变转源码
     * ------------------------------------------
     *  1111 1111 1111 1111 1111 1111 1111 0110 // 补码
     * -0000 0000 0000 0000 0000 0000 0000 0001
     * ------------------------------------------
     *  1111 1111 1111 1111 1111 1111 1111 0101 // 反码
     *  符号位不变, 其他位取反, 转源码
     * ------------------------------------------
     *  1000 0000 0000 0000 0000 0000 0000 1010 // 源码 
     * ------------------------------------------
     * -10
     */
    int d = ~9;
    printf("d = %i\n", d);

    /**
     * ~-11 = ?
     *  1000 0000 0000 0000 0000 0000 0000 1011 // 源码
     * 转反码
     * -----------------------------------------
     *  1111 1111 1111 1111 1111 1111 1111 0100 // 反码
     * +0000 0000 0000 0000 0000 0000 0000 0001
     * -----------------------------------------
     *  1111 1111 1111 1111 1111 1111 1111 0101 // 补码
     * ~(取反)
     * -----------------------------------------
     *  0000 0000 0000 0000 0000 0000 0000 1010 // 补码 -> 反码 -> 源码(正数都一样)
     * -----------------------------------------
     * 10
     */
    int e = ~-11;
    printf("e = %i\n", e);

    /**
     * 规律: 
     * ~-12 = 11
     * ~-11 = 10
     * ~-10 = 9
     * ~-9 = 8
     * ~9 = -10
     * ~10 = -11
     * ~11 = -12
     */
}

void bitMoveHandle() {
    // 左移
    int a = 9 << 1;
    printf("a = %i\n", a);
    /**
     * 9 << 1
     * 0000 0000 0000 0000 0000 0000 0000 1001
     * << 1
     * ----------------------------------------
     * 000 0000 0000 0000 0000 0000 0000 10010 = 18
     */
    
    // 不加 u 报警告
    int a1 = (-9u) << 2;
    printf("a1 = %i\n", a1);

    /**
     * -9 << 2 负数要使用补码进行计算
     *  1000 0000 0000 0000 0000 0000 0000 1001 // 源码
     *  转反码
     * -----------------------------------------
     *  1111 1111 1111 1111 1111 1111 1111 0110 // 反码
     * +0000 0000 0000 0000 0000 0000 0000 0001
     * -----------------------------------------
     *  1111 1111 1111 1111 1111 1111 1111 0111 // 补码
     * << 2
     * -----------------------------------------
     *  11 1111 1111 1111 1111 1111 1111 011100
     *  1111 1111 1111 1111 1111 1111 1101 1100
     * -0000 0000 0000 0000 0000 0000 0000 0001
     * -----------------------------------------
     *  1111 1111 1111 1111 1111 1111 1101 1011 // 反码
     * 转源码
     * -----------------------------------------
     *  1000 0000 0000 0000 0000 0000 0010 0100 = -36
     */


    // 右移
    int b = 9 >> 2;
    printf("b = %i\n", b);
    /**
     * 9 >> 2
     *  0000 0000 0000 0000 0000 0000 0000 1001
     * >> 2
     * ----------------------------------------
     *  0 000 0000 0000 0000 0000 0000 0000 10 = 2
     */

    int b1 = -9 >> 2;
    printf("b1 = %i\n", b1);

    /**
     * -9 >> 2 负数要使用补码进行计算
     *  1000 0000 0000 0000 0000 0000 0000 1001 // 源码
     *  转反码
     * -----------------------------------------
     *  1111 1111 1111 1111 1111 1111 1111 0110 // 反码
     * +0000 0000 0000 0000 0000 0000 0000 0001
     * -----------------------------------------
     *  1111 1111 1111 1111 1111 1111 1111 0111 // 补码
     * >> 2
     * -----------------------------------------
     *  1 11 111 1111 1111 1111 1111 1111 1111 01xx 
     *  1111 1111 1111 1111 1111 1111 1111 1101
     * -0000 0000 0000 0000 0000 0000 0000 0001
     * -----------------------------------------
     *  1111 1111 1111 1111 1111 1111 1111 1100 // 反码
     * 转源码
     * -----------------------------------------
     *  1000 0000 0000 0000 0000 0000 0000 0011 = -3
     */
}

void printNumBinary(int value);
void printParity(int value);
void printExchangeNum(int a, int b);
void charHandle();
void typeDescription();

int main() {
    // advance();
    // bitOperation();
    // bitMoveHandle();
    // printNumBinary(9);
    // printParity(10);
    // printExchangeNum(5, 10);
    // charHandle();
    typeDescription();
    return 0;
}

// 输出正整数的二进制数
void printNumBinary(int value) {
    long sizeInt = sizeof(int) * 8 - 1;
    
    while (sizeInt >= 0)
    {
        // 右移从最高位开始获取, 通过与 1 按位与, 获取每位的数字
        int result = (value >> sizeInt) & 1;
        printf("%i", result);
        sizeInt--;
        if (sizeInt % 4 == 3) {
            printf(",");
        }
    }
}

// 输出一个数字的奇偶
void printParity(int value) {
    // 原理: 二进制的数字, 最后一位为 1 时, 为奇数, 为 0 为偶数
    // 1 & 按位与任何数字, 结果为 0 或者 1,
    // 按位与: 一假则假
    if ((value & 1)) {
        printf("奇数\n");
    } else {
        printf("偶数\n");
    }
}

// 交换两个数字的值
void printExchangeNum(int a, int b) {
    printf("交换前: a = %i, b = %i\n", a, b);

    // 第一种方式
    // int temp = a;
    // a = b;
    // b = temp;

    // 第二种方式
    // a = a + b; // 15 = 5 + 10
    // b = a - b; // b = 15 - 10(b) ==> a
    // a = a - b; // a = 15 - 5(a) ==> b

    // 第三种方式
    a = a ^ b;
    b = a ^ b;  // b = a ^ b ^ b == a
    a = a ^ b;  // a = a ^ a ^ b == a 

    printf("交换后: a = %i, b = %i\n", a, b);
}

void charHandle() {
    char charValue = 'a';

    printf("%c\n", charValue); // a
    printf("%i\n", charValue); // 97

    char c1 = 127;

    printf("%i\n", c1);
}

// 类型说明符
void typeDescription() {
    // int == 4Byte(字节) = -2^31 ~ 2^31 -1
    // int num = 12345678901; // 报警告

    // long int == long  8byte
    long int num1 = 12345678901;
    printf("num1 = %li\n", num1);

    // long long int == long long
    long long int num2 = 12345678901;
    printf("num2 = %lli\n", num2);

    signed int num3 = -9;
    printf("num3 = %i\n", num3);

    unsigned int num4 = -13;
    printf("num4 = %u\n", num4);

    unsigned long int num5 = 99;
    printf("num5 = %lu\n", num5);

}